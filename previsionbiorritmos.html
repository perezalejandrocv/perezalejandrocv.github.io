<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Previsión Biorritmos Emocionales 2026</title>
<style>
body {
  font-family: 'Century Gothic', sans-serif;
  background-color: #ffffff;
  color: #000000;
  margin-left: 1cm;
  margin-right: 1cm;
  margin-top: 1em;
  margin-bottom: 1em;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  position: relative; /* necesario para posicionar la flecha */
}

h1 {
  text-align: center;
  margin-bottom: 1em;
}

.parte {
  display: flex;
  justify-content: center; 
  gap: 0;
  margin-bottom: 1cm;
  flex-wrap: wrap;
  width: 100%;
}

table {
  border-collapse: collapse;
  width: auto;
  max-width: 100%;
  table-layout: fixed;
  margin: 0 0.2cm 0.5cm 0;
}

caption {
  text-align: center;
  font-weight: bold;
  margin-bottom: 0.3em;
  font-size: 1em;
}

th, td {
  border: 1px solid #4a4a4a;
  width: 0.8cm;
  height: 0.8cm;
  text-align: center;
  vertical-align: top;
  padding: 0px;
  font-weight: normal;
  font-size: 11px;
}

/* Negrita para sábados y domingos */
th:nth-child(6),
th:nth-child(7),
td:nth-child(6),
td:nth-child(7) {
  font-weight: bold;
}

td .contenido {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 100%;
}

.valor {
  font-size: 0.7em;
}

.normal {
  background-color: #ffffff;
  color: #000000;
}

.critico {
  background-color: #FF0000;
  color: #ffffff;
}

/* --- Imagen flecha --- */
.flecha-link {
  position: absolute;
  top: 1em; /* altura del título */
  left: calc(100% / 7 * 6 + 1cm); /* sobre la columna 'Dom' */
  z-index: 10;
}

.flecha-img {
  width: 48px;
  height: auto;
  transition: transform 0.2s ease-in-out;
}

.flecha-img:hover {
  transform: scale(1.1); /* aumento de tamaño */
}

/* --- Ajuste responsive --- */
@media (max-width: 768px) {
  th, td {
    width: 1.6em;
    height: 1.6em;
    font-size: 9px;
  }
  caption {
    font-size: 0.9em;
  }
  h1 {
    font-size: 1.2em;
  }
}
</style>
</head>
<body>

<h1>Previsión Biorritmos Emocionales 2026</h1>

<!-- Imagen flecha -->
<a href="biorritmos.html" class="flecha-link">
  <img src="images/flechagris.jpg" alt="Ir a Biorritmos" class="flecha-img" />
</a>

<div class="parte" id="parte1"></div>
<div class="parte" id="parte2"></div>

<script>
// Fechas con valores críticos (sin ±1 día)
const fechasCriticas = {
"03/07/2026": "0.0",
"04/12/2026": "0.0",
"08/05/2026": "0.0",
"11/09/2026": "0.0",
"13/02/2026": "0.0",
"13/03/2026": "0.0",
"14/08/2026": "0.0",
"16/01/2026": "0.0",
"18/12/2026": "0.0",
"20/11/2026": "0.0",
"22/05/2026": "0.0",
"25/09/2026": "0.0",
"28/08/2026": "0.0",
"30/01/2026": "0.0",
"31/07/2026": "0.0",
"02/01/2026": "-0.0",
"05/06/2026": "-0.0",
"06/11/2026": "-0.0",
"09/10/2026": "-0.0",
"10/04/2026": "-0.0",
"17/07/2026": "-0.0",
"19/06/2026": "-0.0",
"23/10/2026": "-0.0",
"24/04/2026": "-0.0",
"27/02/2026": "-0.0",
"27/03/2026": "-0.0",
"02/02/2026": "0.62",
"02/03/2026": "0.62",
"02/06/2026": "0.62",
"05/01/2026": "0.62",
"05/05/2026": "0.62",
"07/04/2026": "0.62",
"07/12/2026": "0.62",
"09/11/2026": "0.62",
"10/02/2026": "0.62",
"10/03/2026": "0.62",
"12/10/2026": "0.62",
"13/01/2026": "0.62",
"14/09/2026": "0.62",
"15/12/2026": "0.62",
"17/08/2026": "0.62",
"17/11/2026": "0.62",
"20/07/2026": "0.62",
"20/10/2026": "0.62",
"22/06/2026": "0.62",
"22/09/2026": "0.62",
"25/05/2026": "0.62",
"25/08/2026": "0.62",
"27/04/2026": "0.62",
"28/07/2026": "0.62",
"30/03/2026": "0.62",
"30/06/2026": "0.62",
"02/10/2026": "-1.0",
"04/09/2026": "-1.0",
"07/08/2026": "-1.0",
"10/07/2026": "-1.0",
"12/06/2026": "-1.0",
"15/05/2026": "-1.0",
"17/04/2026": "-1.0",
"20/02/2026": "-1.0",
"20/03/2026": "-1.0",
"23/01/2026": "-1.0",
"25/12/2026": "-1.0",
"27/11/2026": "-1.0",
"30/10/2026": "-1.0"
};

const meses = [
  {nombre: "Enero", dias: 31},
  {nombre: "Febrero", dias: 28},
  {nombre: "Marzo", dias: 31},
  {nombre: "Abril", dias: 30},
  {nombre: "Mayo", dias: 31},
  {nombre: "Junio", dias: 30},
  {nombre: "Julio", dias: 31},
  {nombre: "Agosto", dias: 31},
  {nombre: "Septiembre", dias: 30},
  {nombre: "Octubre", dias: 31},
  {nombre: "Noviembre", dias: 30},
  {nombre: "Diciembre", dias: 31}
];

const diasSemana = ["Lun","Mar","Mié","Jue","Vie","Sáb","Dom"];

function esCritico(fechaStr) {
  return fechasCriticas[fechaStr] || null;
}

function crearTablaMes(mesIndex) {
  const mes = meses[mesIndex];
  const table = document.createElement("table");
  const caption = document.createElement("caption");
  caption.textContent = mes.nombre;
  table.appendChild(caption);

  const thead = document.createElement("thead");
  const filaDias = document.createElement("tr");
  diasSemana.forEach(d => {
    const th = document.createElement("th");
    th.textContent = d;
    filaDias.appendChild(th);
  });
  thead.appendChild(filaDias);
  table.appendChild(thead);

  const tbody = document.createElement("tbody");

  const fechaBase = new Date(2026, mesIndex, 1);
  let diaSemana = (fechaBase.getDay() + 6) % 7; // lunes=0

  let fila = document.createElement("tr");
  for(let i=0;i<diaSemana;i++){
    const td = document.createElement("td");
    td.className = "normal";
    fila.appendChild(td);
  }

  for(let dia=1; dia<=mes.dias; dia++){
    if(fila.children.length===7){
      tbody.appendChild(fila);
      fila = document.createElement("tr");
    }

    const td = document.createElement("td");
    const fechaStr = `${dia.toString().padStart(2,'0')}/${(mesIndex+1).toString().padStart(2,'0')}/2026`;
    const valor = esCritico(fechaStr);
    const div = document.createElement("div");
    div.className = "contenido";

    const arriba = document.createElement("div");
    arriba.textContent = dia;
    div.appendChild(arriba);

    if(valor !== null){
      td.className = "critico";
      const abajo = document.createElement("div");
      abajo.textContent = valor;
      abajo.className = "valor";
      div.appendChild(abajo);
    } else {
      td.className = "normal";
    }

    td.appendChild(div);
    fila.appendChild(td);
  }

  while(fila.children.length<7){
    const td = document.createElement("td");
    td.className = "normal";
    fila.appendChild(td);
  }
  tbody.appendChild(fila);
  table.appendChild(tbody);
  return table;
}

// 6 meses arriba, 6 meses abajo
for(let parte=0; parte<2; parte++){
  const divParte = document.getElementById("parte"+(parte+1));
  for(let i=0;i<6;i++){
    const mesIndex = parte*6 + i;
    const tabla = crearTablaMes(mesIndex);
    divParte.appendChild(tabla);
  }
}
</script>

</body>
</html>
